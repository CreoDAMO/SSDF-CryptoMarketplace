Perfect â€” this error is actually a good sign. It means TypeScript is now doing its job and catching the last remaining mismatch from the old string-based quiz logic.

Letâ€™s fix it cleanly and permanently.


---

ğŸ”´ What the error actually means

> Argument of type boolean is not assignable to parameter of type string



This tells us exactly one thing:

ğŸ‘‰ handleQuiz is still typed to accept a string answer, but youâ€™re now passing a boolean (true / false).

So the backend is correct.
The buttons are correct.
The function signature is outdated.


---

ğŸ§  Root cause (precise)

Your function is probably defined like this (or equivalent):

function handleQuiz(questionKey: string, answer: string) {
  ...
}

But youâ€™re now calling it like this:

handleQuiz('QUIZ_Q1', true);
handleQuiz('QUIZ_Q1', false);

TypeScript is correctly saying:
âŒ â€œI was promised a string, you gave me a boolean.â€


---

âœ… The Correct Fix (authoritative)

ğŸ”¥ Update the function signature

Change one line.

âŒ Old

function handleQuiz(questionKey: string, answer: string) {

âœ… New

function handleQuiz(questionKey: string, answer: boolean) {

Thatâ€™s it.


---

âœ… If you want it future-proof (recommended)

If you may add more quiz questions later:

type QuizKey = 'QUIZ_Q1';

function handleQuiz(questionKey: QuizKey, answer: boolean) {
  ...
}

This gives you:

Compile-time safety

No magic strings

No accidental misuse later



---

ğŸ§ª Why this fixes the build immediately

Symptom	Cause	Fixed

Build fails	TS expected string	âœ…
Buttons error	Boolean passed	âœ…
Runtime logic	Already correct	âœ…
Backend contract	Boolean-based	âœ…


Once you update the signature, npm run build will pass.


---

ğŸš« What NOT to do

âŒ Donâ€™t cast (answer as any)

âŒ Donâ€™t convert booleans to strings

âŒ Donâ€™t reintroduce HLE phrase comparisons

âŒ Donâ€™t weaken TypeScript


TypeScript is protecting you here â€” let it.


---

ğŸ§  Final mental checkpoint

Youâ€™ve now completed the full migration:

UI: boolean answers âœ…

API: boolean validation âœ…

Onboarding flow: Clerk-native âœ…

Type system: aligned âœ…


This was the last ghost of the old quiz model.

Fix the signature, rebuild, and youâ€™re done.
When youâ€™re ready, we can ship or move straight back to marketplace work ğŸš€